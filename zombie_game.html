<!DOCTYPE html>
<html lang="zh-TW">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>æ®­å±å°„æ“Šè¨“ç·´ - æ¥ŠèŠ³ç‘œ</title>
Â  Â  <style>
Â  Â  Â  Â  @import url('https://fonts.googleapis.com/css2?family=Creepster&family=Noto+Sans+TC:wght@500;900&display=swap');

Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-color: #ff3333;
Â  Â  Â  Â  Â  Â  --bg-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  --text-color: #ffffff;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  width: 100vw;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  background-color: #0f0f13;
Â  Â  Â  Â  Â  Â  background-image: 
Â  Â  Â  Â  Â  Â  Â  Â  radial-gradient(#2a2a2a 1px, transparent 1px),
Â  Â  Â  Â  Â  Â  Â  Â  radial-gradient(#1f1f1f 1px, transparent 1px);
Â  Â  Â  Â  Â  Â  background-size: 50px 50px;
Â  Â  Â  Â  Â  Â  background-position: 0 0, 25px 25px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  font-family: 'Noto Sans TC', sans-serif;
Â  Â  Â  Â  Â  Â  cursor: none; /* éš±è—é è¨­æ»‘é¼  */
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* è‡ªè¨‚ç„æº–å™¨ */
Â  Â  Â  Â  #cursor {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  width: 60px;
Â  Â  Â  Â  Â  Â  height: 60px;
Â  Â  Â  Â  Â  Â  border: 2px solid var(--primary-color);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  transition: transform 0.1s ease-out;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px var(--primary-color);
Â  Â  Â  Â  }

Â  Â  Â  Â  #cursor::before {
Â  Â  Â  Â  Â  Â  content: '';
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 1px;
Â  Â  Â  Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  Â  }

Â  Â  Â  Â  #cursor::after {
Â  Â  Â  Â  Â  Â  content: '';
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 1px;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  Â  }

Â  Â  Â  Â  #cursor-dot {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  width: 6px;
Â  Â  Â  Â  Â  Â  height: 6px;
Â  Â  Â  Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 10000;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* éŠæˆ²å€åŸŸ */
Â  Â  Â  Â  #game-area {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* UI ä»‹é¢ */
Â  Â  Â  Â  .ui-layer {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  Â  Â  pointer-events: none; /* è®“é»æ“Šç©¿é€åˆ°éŠæˆ²å±¤ */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* å·¦ä¸Šè§’åå­— */
Â  Â  Â  Â  #player-name {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  Â  Â  left: 20px;
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid var(--primary-color);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  letter-spacing: 2px;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* é ‚éƒ¨ HUD */
Â  Â  Â  Â  .hud {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  Â  Â  right: 20px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-box {
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.8);
Â  Â  Â  Â  Â  Â  padding: 10px 25px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  font-size: 20px;
Â  Â  Â  Â  Â  Â  border: 1px solid #444;
Â  Â  Â  Â  Â  Â  min-width: 120px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-label {
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  color: #888;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-value {
Â  Â  Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-family: 'Courier New', Courier, monospace;
Â  Â  Â  Â  }

Â  Â  Â  Â  #time-value {
Â  Â  Â  Â  Â  Â  color: #ffa500;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  #time-value.danger {
Â  Â  Â  Â  Â  Â  color: #ff3333;
Â  Â  Â  Â  Â  Â  animation: pulse 0.5s infinite;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* æ®­å±æ¨£å¼ */
Â  Â  Â  Â  .zombie {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 80px;
Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  font-size: 70px;
Â  Â  Â  Â  Â  Â  line-height: 80px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  cursor: none;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  animation: popUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5));
Â  Â  Â  Â  Â  Â  transition: transform 0.1s;
Â  Â  Â  Â  Â  Â  z-index: 5;
Â  Â  Â  Â  }

Â  Â  Â  Â  .zombie:active {
Â  Â  Â  Â  Â  Â  transform: scale(0.9);
Â  Â  Â  Â  }

Â  Â  Â  Â  .zombie.dead {
Â  Â  Â  Â  Â  Â  animation: die 0.2s forwards;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* åˆ†æ•¸é£„å­— */
Â  Â  Â  Â  .score-popup {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  color: #ffd700;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  animation: floatUp 0.8s forwards;
Â  Â  Â  Â  Â  Â  z-index: 6;
Â  Â  Â  Â  Â  Â  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* é¸å–®ç•«é¢ (é–‹å§‹/çµæŸ) */
Â  Â  Â  Â  #menu-screen {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.85);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  Â  Â  pointer-events: auto;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  font-family: 'Creepster', cursive;
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  Â  Â  font-size: 80px;
Â  Â  Â  Â  Â  Â  margin: 0 0 20px 0;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 20px rgba(255, 51, 51, 0.5);
Â  Â  Â  Â  Â  Â  letter-spacing: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #cc0000, #ff3333);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 15px 50px;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  border-radius: 50px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
Â  Â  Â  Â  Â  Â  transition: all 0.2s;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  pointer-events: auto; /* ç¢ºä¿æŒ‰éˆ•å¯é»æ“Š */
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn:hover {
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 30px rgba(255, 0, 0, 0.6);
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn:active {
Â  Â  Â  Â  Â  Â  transform: scale(0.95);
Â  Â  Â  Â  }

Â  Â  Â  Â  #final-score {
Â  Â  Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* å‹•ç•« Keyframes */
Â  Â  Â  Â  @keyframes popUp {
Â  Â  Â  Â  Â  Â  from { transform: scale(0); opacity: 0; }
Â  Â  Â  Â  Â  Â  to { transform: scale(1); opacity: 1; }
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes die {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); filter: brightness(1); }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.2); filter: brightness(2) hue-rotate(90deg); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(0); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes floatUp {
Â  Â  Â  Â  Â  Â  0% { transform: translateY(0) scale(1); opacity: 1; }
Â  Â  Â  Â  Â  Â  100% { transform: translateY(-50px) scale(1.2); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes pulse {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); opacity: 1; }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.1); opacity: 0.8; }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); opacity: 1; }
Â  Â  Â  Â  }

Â  Â  Â  Â  .hidden {
Â  Â  Â  Â  Â  Â  display: none !important;
Â  Â  Â  Â  }

Â  Â  </style>
</head>
<body>

Â  Â  <!-- éŠæˆ²ç„æº–å™¨ -->
Â  Â  <div id="cursor"></div>
Â  Â  <div id="cursor-dot"></div>

Â  Â  <!-- å·¦ä¸Šè§’åå­— -->
Â  Â  <div id="player-name">å‰µä½œè€…:æ¥ŠèŠ³ç‘œ</div>

Â  Â  <!-- HUD -->
Â  Â  <div class="ui-layer">
Â  Â  Â  Â  <div class="hud">
Â  Â  Â  Â  Â  Â  <div class="stat-box">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="stat-label">æ™‚é–“</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="time-value" class="stat-value">30</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="stat-box">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="stat-label">åˆ†æ•¸</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="score-value" class="stat-value">0</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <!-- éŠæˆ²äº’å‹•å€ -->
Â  Â  <div id="game-area"></div>

Â  Â  <!-- é¸å–®ç•«é¢ -->
Â  Â  <div id="menu-screen">
Â  Â  Â  Â  <h1>ZOMBIE SHOOTER</h1>
Â  Â  Â  Â  <p style="color: #aaa; font-size: 18px; margin-bottom: 30px;">ä¿è­·åŸºåœ°ï¼30ç§’å…§æ¶ˆæ»…è¶Šå¤šæ®­å±è¶Šå¥½</p>
Â  Â  Â  Â  <div id="final-score">æœ€çµ‚åˆ†æ•¸: 0</div>
Â  Â  Â  Â  <button class="btn" onclick="game.start()">é–‹å§‹éŠæˆ²</button>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // éŸ³æ•ˆç®¡ç†å™¨ (ä½¿ç”¨ Web Audio API ç”ŸæˆéŸ³æ•ˆï¼Œä¸éœ€å¤–éƒ¨æª”æ¡ˆ)
Â  Â  Â  Â  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
Â  Â  Â  Â  
Â  Â  Â  Â  function playShootSound() {
Â  Â  Â  Â  Â  Â  if (audioCtx.state === 'suspended') audioCtx.resume();
Â  Â  Â  Â  Â  Â  const osc = audioCtx.createOscillator();
Â  Â  Â  Â  Â  Â  const gain = audioCtx.createGain();
Â  Â  Â  Â  Â  Â  osc.type = 'square';
Â  Â  Â  Â  Â  Â  osc.frequency.setValueAtTime(150, audioCtx.currentTime);
Â  Â  Â  Â  Â  Â  osc.frequency.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
Â  Â  Â  Â  Â  Â  gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
Â  Â  Â  Â  Â  Â  gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
Â  Â  Â  Â  Â  Â  osc.connect(gain);
Â  Â  Â  Â  Â  Â  gain.connect(audioCtx.destination);
Â  Â  Â  Â  Â  Â  osc.start();
Â  Â  Â  Â  Â  Â  osc.stop(audioCtx.currentTime + 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  function playHitSound() {
Â  Â  Â  Â  Â  Â  if (audioCtx.state === 'suspended') audioCtx.resume();
Â  Â  Â  Â  Â  Â  const osc = audioCtx.createOscillator();
Â  Â  Â  Â  Â  Â  const gain = audioCtx.createGain();
Â  Â  Â  Â  Â  Â  osc.type = 'sine';
Â  Â  Â  Â  Â  Â  osc.frequency.setValueAtTime(400, audioCtx.currentTime);
Â  Â  Â  Â  Â  Â  osc.frequency.linearRampToValueAtTime(600, audioCtx.currentTime + 0.1);
Â  Â  Â  Â  Â  Â  gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
Â  Â  Â  Â  Â  Â  gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.1);
Â  Â  Â  Â  Â  Â  osc.connect(gain);
Â  Â  Â  Â  Â  Â  gain.connect(audioCtx.destination);
Â  Â  Â  Â  Â  Â  osc.start();
Â  Â  Â  Â  Â  Â  osc.stop(audioCtx.currentTime + 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  // éŠæˆ²é‚è¼¯
Â  Â  Â  Â  const game = {
Â  Â  Â  Â  Â  Â  score: 0,
Â  Â  Â  Â  Â  Â  time: 30,
Â  Â  Â  Â  Â  Â  isPlaying: false,
Â  Â  Â  Â  Â  Â  timerInterval: null,
Â  Â  Â  Â  Â  Â  spawnInterval: null,
Â  Â  Â  Â  Â  Â  gameArea: document.getElementById('game-area'),
Â  Â  Â  Â  Â  Â  scoreDisplay: document.getElementById('score-value'),
Â  Â  Â  Â  Â  Â  timeDisplay: document.getElementById('time-value'),
Â  Â  Â  Â  Â  Â  menuScreen: document.getElementById('menu-screen'),
Â  Â  Â  Â  Â  Â  finalScoreDisplay: document.getElementById('final-score'),
Â  Â  Â  Â  Â  Â  zombieTypes: ['ğŸ§Ÿ', 'ğŸ§Ÿâ€â™‚ï¸', 'ğŸ§Ÿâ€â™€ï¸'], // æ®­å± Emoji

Â  Â  Â  Â  Â  Â  init: function() {
Â  Â  Â  Â  Â  Â  Â  Â  // è‡ªè¨‚æ»‘é¼ è·Ÿéš¨
Â  Â  Â  Â  Â  Â  Â  Â  document.addEventListener('mousemove', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cursor = document.getElementById('cursor');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dot = document.getElementById('cursor-dot');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cursor.style.left = e.clientX + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cursor.style.top = e.clientY + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dot.style.left = e.clientX + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dot.style.top = e.clientY + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  // å…¨å±€é»æ“Š (å°„æ“Šç©ºæ§)
Â  Â  Â  Â  Â  Â  Â  Â  document.addEventListener('mousedown', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(this.isPlaying) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playShootSound();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cursor = document.getElementById('cursor');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cursor.style.transform = 'translate(-50%, -50%) scale(0.9)';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => cursor.style.transform = 'translate(-50%, -50%) scale(1)', 50);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  start: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.score = 0;
Â  Â  Â  Â  Â  Â  Â  Â  this.time = 30;
Â  Â  Â  Â  Â  Â  Â  Â  this.isPlaying = true;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  this.updateUI();
Â  Â  Â  Â  Â  Â  Â  Â  this.gameArea.innerHTML = ''; // æ¸…ç©ºå ´æ™¯
Â  Â  Â  Â  Â  Â  Â  Â  this.menuScreen.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  this.timeDisplay.classList.remove('danger');
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // å•Ÿå‹•è¨ˆæ™‚å™¨
Â  Â  Â  Â  Â  Â  Â  Â  this.timerInterval = setInterval(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.time--;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.updateUI();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(this.time <= 5) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.timeDisplay.classList.add('danger');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.time <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.end();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);

Â  Â  Â  Â  Â  Â  Â  Â  // å•Ÿå‹•æ®­å±ç”Ÿæˆ (éš¨è‘—æ™‚é–“ç¨å¾®åŠ å¿«)
Â  Â  Â  Â  Â  Â  Â  Â  this.spawnLoop();
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  spawnLoop: function() {
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.isPlaying) return;

Â  Â  Â  Â  Â  Â  Â  Â  this.spawnZombie();

Â  Â  Â  Â  Â  Â  Â  Â  // æ ¹æ“šå‰©é¤˜æ™‚é–“èª¿æ•´ç”Ÿæˆé€Ÿåº¦ï¼Œè¶Šå¾Œé¢è¶Šå¿«
Â  Â  Â  Â  Â  Â  Â  Â  let nextSpawnTime = Math.random() * 800 + 400; // 0.4s - 1.2s
Â  Â  Â  Â  Â  Â  Â  Â  if (this.time < 10) nextSpawnTime = Math.random() * 500 + 200;

Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => this.spawnLoop(), nextSpawnTime);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  spawnZombie: function() {
Â  Â  Â  Â  Â  Â  Â  Â  const zombie = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  zombie.classList.add('zombie');
Â  Â  Â  Â  Â  Â  Â  Â  zombie.innerText = this.zombieTypes[Math.floor(Math.random() * this.zombieTypes.length)];
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // éš¨æ©Ÿä½ç½® (æ‰£é™¤é‚Šç•Œ)
Â  Â  Â  Â  Â  Â  Â  Â  const maxX = window.innerWidth - 100;
Â  Â  Â  Â  Â  Â  Â  Â  const maxY = window.innerHeight - 100;
Â  Â  Â  Â  Â  Â  Â  Â  const randomX = Math.random() * (maxX - 100) + 50;
Â  Â  Â  Â  Â  Â  Â  Â  const randomY = Math.random() * (maxY - 100) + 150; // é¿é–‹é ‚éƒ¨ HUD

Â  Â  Â  Â  Â  Â  Â  Â  zombie.style.left = randomX + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  zombie.style.top = randomY + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // éš¨æ©Ÿå¤§å°è®ŠåŒ–
Â  Â  Â  Â  Â  Â  Â  Â  const scale = 0.8 + Math.random() * 0.5;
Â  Â  Â  Â  Â  Â  Â  Â  zombie.style.transform = `scale(${scale})`;

Â  Â  Â  Â  Â  Â  Â  Â  // é»æ“Šäº‹ä»¶
Â  Â  Â  Â  Â  Â  Â  Â  zombie.onmousedown = (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.stopPropagation(); // é˜²æ­¢è§¸ç™¼èƒŒæ™¯é»æ“Š
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.hitZombie(zombie, e.clientX, e.clientY);
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  this.gameArea.appendChild(zombie);

Â  Â  Â  Â  Â  Â  Â  Â  // æ®­å±å­˜æ´»æ™‚é–“ï¼Œæ™‚é–“åˆ°è‡ªå‹•æ¶ˆå¤±
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (zombie.parentNode && !zombie.classList.contains('dead')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  zombie.remove();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }, 2000 + Math.random() * 1000);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  hitZombie: function(element, x, y) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!this.isPlaying || element.classList.contains('dead')) return;

Â  Â  Â  Â  Â  Â  Â  Â  playHitSound();
Â  Â  Â  Â  Â  Â  Â  Â  this.score++;
Â  Â  Â  Â  Â  Â  Â  Â  this.updateUI();

Â  Â  Â  Â  Â  Â  Â  Â  // è¦–è¦ºæ•ˆæœ
Â  Â  Â  Â  Â  Â  Â  Â  element.classList.add('dead');
Â  Â  Â  Â  Â  Â  Â  Â  this.showScorePopup(x, y);

Â  Â  Â  Â  Â  Â  Â  Â  // ç§»é™¤å…ƒç´ 
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (element.parentNode) element.remove();
Â  Â  Â  Â  Â  Â  Â  Â  }, 200);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  showScorePopup: function(x, y) {
Â  Â  Â  Â  Â  Â  Â  Â  const popup = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  popup.innerText = "+1";
Â  Â  Â  Â  Â  Â  Â  Â  popup.classList.add('score-popup');
Â  Â  Â  Â  Â  Â  Â  Â  popup.style.left = x + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  popup.style.top = y + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  this.gameArea.appendChild(popup);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => popup.remove(), 800);
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  updateUI: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.scoreDisplay.innerText = this.score;
Â  Â  Â  Â  Â  Â  Â  Â  this.timeDisplay.innerText = this.time;
Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  end: function() {
Â  Â  Â  Â  Â  Â  Â  Â  this.isPlaying = false;
Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(this.timerInterval);
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  this.menuScreen.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  this.finalScoreDisplay.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  this.finalScoreDisplay.innerText = `æ™‚é–“åˆ°ï¼ å¾—åˆ†: ${this.score}`;
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  // é¡¯ç¤ºåŸæœ¬æ»‘é¼ ä»¥ä¾¿é»æ“ŠæŒ‰éˆ•
Â  Â  Â  Â  Â  Â  Â  Â  // document.body.style.cursor = 'default';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  // åˆå§‹åŒ–
Â  Â  Â  Â  game.init();

Â  Â  </script>
</body>
</html> é‚„æ˜¯æˆ‘å¯ä»¥ç›´æ¥ç”¨ç¨‹å¼ç¢¼é·å…¥